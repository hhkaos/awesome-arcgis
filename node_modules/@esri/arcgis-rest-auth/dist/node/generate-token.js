"use strict";
/* Copyright (c) 2017-2018 Environmental Systems Research Institute, Inc.
 * Apache-2.0 */
Object.defineProperty(exports, "__esModule", { value: true });
var arcgis_rest_request_1 = require("@esri/arcgis-rest-request");
function generateToken(url, requestOptions) {
    // TODO: remove union type and type guard next breaking change and just expect IGenerateTokenParams
    var options = requestOptions
        .params
        ? requestOptions
        : { params: requestOptions };
    /* istanbul ignore else */
    if (typeof window !== "undefined" &&
        window.location &&
        window.location.host) {
        options.params.referer = window.location.host;
    }
    else {
        options.params.referer = arcgis_rest_request_1.NODEJS_DEFAULT_REFERER_HEADER;
    }
    return arcgis_rest_request_1.request(url, options);
}
exports.generateToken = generateToken;
//# sourceMappingURL=generate-token.js.map